<!DOCTYPE HTML>

<html>
<head>
    <title>염대훈﹒고영훈의 결혼식</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
    <link rel="stylesheet" href="mainSets/assets/css/main.css"/>

    <script charset="UTF-8" class="daum_roughmap_loader_script"
            src="https://ssl.daumcdn.net/dmaps/map_js_init/roughmapLoader.js"></script>

    <script charset="UTF-8">
        window.onload = function () {
            new daum.roughmap.Lander({
                "timestamp": "1627903587148",
                "key": "26u5s"
            }).render();
        };
    </script>
</head>
<body class="is-preload">

<div id="wrapper2">

    <header id="header2" class="alt">
        <nav>
            <a href="#menu" style="color: white !important;"></a>
        </nav>
    </header>
    <!-- Menu -->
    <nav id="menu">
        <ul class="links">
            <li><a href="#">홈</a></li>
            <li><a href="#contact">연락하실곳</a></li>
            <li><a href="#map">오시는길</a></li>
            <li><a href="#gallery">사진첩</a></li>
            <li><a href="#congrat">축하하기</a></li>
        </ul>
    </nav>
</div>

<!-- style="background: rgba(0,0,0,0.5)"-->
<!-- Header -->
<section id="header">
    <header class="major" style="background: rgba(161,161,161,0.2); width: fit-content; max-width: 90%; ">
        <h1>염대훈<span style="font-size: 0.8em;"> & </span>고영훈</h1>
        <p id="mainInfo">
            2021년 11월 28일(일) 오전 11시<br/>웨딩헤너스 7층 씨엘로홀<br/>
            <a href="#map" style="color: hotpink; font-size: 0.8em">오시는길</a>
        </p>
    </header>

</section>

<!-- One -->
<section id="one" class="main special">
    <div class="container">
        <div class="content">
            <header class="major">
                <h2>인사말</h2>
            </header>
            <span class="image fit primary mg-1em"><img src="mainSets/images/2T3A9674.jpg" alt=""/></span>
            <p class="info">두 사람이 처음 만났던 설렘의 마음으로 <br/>
                이제 믿음직한 남편, 사랑스러운 아내로 <br/>
                하나의 가정을 이루는 약속을 하려고 합니다.<br/></p>

            <p class="info">코로나의 장기화로 종식을 예측할 수 없어 <br/>
                어려운 시기임에도 예식을 진행하게 되었습니다. <br/>
                좋지 않은 상황에 초대장을 드리게 되어 <br/>죄송한 마음입니다.<br/></p>
            <p class="info">소식을 전하고자 청첩장을 드리니<br/>참석에 부담 갖지 않으시길 바라며,<br/>
                오시지 못해도 마음을 담아 축하해 주시는 <br/>모든 분에게 감사드립니다.</p>
            <h2 style="line-height:1.5em;">
                염태익<span>﹒</span>정영숙 <span>의 장남</span> 염대훈<br/>
                고근섭<span>﹒</span>김은주 <span>의 삼녀</span> 고영훈
            </h2>
        </div>
        <a href="#two" class="goto-next scrolly">Next</a>
    </div>
</section>

<!-- Two -->
<section id="two" class="main special">
    <div class="container">
        <div class="content">
            <header class="major">
                <h2>일정</h2>
            </header>
            <span class="image fit primary mg-1em"><img src="mainSets/images/wedding.jpeg" alt=""/></span>
            <section>
                <div class="table-wrapper">
                    <table class="alt">
                        <tbody>
                        <tr>
                            <td>시간</td>
                            <td>행사</td>
                            <td>장소</td>
                        </tr>
                        <tr>
                            <td>10:00 ~ 11:30</td>
                            <td>포토 부스 촬영 <i class="fas fa-exclamation-circle" onclick="javascript:info_photo();"
                                            style="cursor:pointer; font-size:0.7em;"></i></td>
                            <td>7층</td>
                        </tr>
                        <tr>
                            <td>11:00 ~ 12:30</td>
                            <td>본식</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>11:00 ~ 12:30</td>
                            <td>식사</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>본식 종료 ~</td>
                            <td>폐백</td>
                            <td>1층 폐백실</td>
                        </tr>
                        </tbody>
                    </table>
                </div>

                <p style="font-size: 0.8em">* 식사는 코로나 거리두기 단계 조정시 변동사항이 생길수 있습니다.</p>
            </section>


        </div>
        <a href="#three" class="goto-next scrolly">Next</a>
    </div>
</section>

<section id="three" class="main special">
    <div class="container" id="contact">
        <!--        <span class="image fit primary"><img src="images/pic02.jpg" alt=""/></span>-->
        <div class="content">
            <header class="major">
                <h2>연락하실곳</h2>
            </header>

            <section>
                <div class="table-wrapper">
                    <table class="alt">
                        <tbody>
                        <tr>
                            <td>신랑 <span style="font-size: 1.2em;">염대훈</span></td>
                            <td>신부 <span style="font-size: 1.2em;">고영훈</span></td>
                        </tr>
                        <tr>
                            <td><a href="tel:01029073853" class="fas fa-phone" style="text-decoration-line: none;"></a>&nbsp;
                                &nbsp; <a href="sms:01029073853" class="fas fa-comment-alt"
                                          style="text-decoration-line: none;"></a>&nbsp;
                                &nbsp; <a href="http://qr.kakao.com/talk/RyZQUOy.9fgj7zjEJphtQxtUbQY-"
                                          class="fas fa-comment-dots"
                                          style="text-decoration-line: none;"></a></td>
                            <td><a href="tel:01029073853" class="fas fa-phone" style="text-decoration-line: none;"></a>&nbsp;
                                &nbsp; <a href="sms:01029073853" class="fas fa-comment-alt"
                                          style="text-decoration-line: none;"></a>&nbsp;
                                &nbsp; <a href="http://qr.kakao.com/talk/XRDhGg8z8qCUjwnc0GTAi9fbITo-"
                                          class="fas fa-comment-dots"
                                          style="text-decoration-line: none;"></a></td>
                        </tr>
                        <tr>
                            <td>신랑측 혼주 <span style="font-size: 1.2em;">염태익</span></td>
                            <td>신부측 혼주 <span style="font-size: 1.2em;">고근섭</span></td>
                        </tr>
                        <tr>
                            <td> &nbsp; <a href="tel:01029073853" class="fas fa-phone"
                                           style="text-decoration-line: none;"></a>&nbsp;
                                &nbsp; <a href="sms:01029073853" class="fas fa-comment-alt"
                                          style="text-decoration-line: none;"></a></td>
                            <td> &nbsp; <a href="tel:01029073853" class="fas fa-phone"
                                           style="text-decoration-line: none;"></a>&nbsp;
                                &nbsp; <a href="sms:01029073853" class="fas fa-comment-alt"
                                          style="text-decoration-line: none;"></a></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </section>
        </div>
    </div>
</section>


<section id="three-four" class="main special">
    <div class="container" id="n">
        <!--        <span class="image fit primary"><img src="images/pic02.jpg" alt=""/></span>-->
        <div class="content">
            <header class="major">
                <h2>마음 전하실곳</h2>
            </header>
            <a id="btnMore" href="javascript:more();" style="">상세정보 <i class="fas fa-chevron-down"></i></a>
            <a id="btnHide" href="javascript:more();" style="display: none; text-decoration: none !important;">닫기 <i
                    class="fas fa-angle-up"></i></a>

            <div id="bank" class="row hidden">
                <div class="col-12 col-12-medium">
                    <ul class="actions half fixed">
                        <li>신랑측</li>
                        <li>신부측</li>
                    </ul>
                    <div>
                        <ul class="actions half fixed">
                            <li>신랑 <span style="font-size: 1.2em">염대훈</span><br/>
                                <span id="back1" cp="xx은행 oooo-oooo-ooo">xx은행 oooo-oooo-ooo</span><br/>
                                <a href="javascript:copy_to_clipboard('back1')" style="font-size: 13px">copy</a>
                            </li>
                            <li>신부 <span style="font-size: 1.2em">고영훈</span><br/>
                                <span id="back2" cp="xx은행 oooo-oooo-ooo">xx은행 oooo-oooo-ooo</span><br/>
                                <a href="javascript:copy_to_clipboard('back2')" style="font-size: 13px">copy</a>
                            </li>
                        </ul>
                        <ul class="actions half fixed">
                            <li>신랑 <span style="font-size: 1.2em">염대훈</span><br/>
                                <span id="back3" cp="xx은행 oooo-oooo-ooo">xx은행 oooo-oooo-ooo</span><br/>
                                <a href="javascript:copy_to_clipboard('back3')" style="font-size: 13px">copy</a>
                            </li>
                            <li>신부 <span style="font-size: 1.2em">고영훈</span><br/>
                                <span id="back4" cp="xx은행 oooo-oooo-ooo">xx은행 oooo-oooo-ooo</span><br/>
                                <a href="javascript:copy_to_clipboard('back4')" style="font-size: 13px">copy</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <!--        <a class="more"></a>>-->
        <a href="#four" class="goto-next scrolly">Next</a>
    </div>
</section>

<!-- Three -->
<section id="four" class="main special">
    <div class="container" id="map">
        <div class="content">
            <header class="major">
                <h2>오시는길</h2>
            </header>
            <div id="daumRoughmapContainer1627903587148" class="root_daum_roughmap root_daum_roughmap_landing"
                 style="width:100%; padding-bottom: 5%"></div>
            <p id="address" cp="서울시 동대문구 망우로 61">&nbsp;서울시 동대문구 망우로 61 <a
                    href="javascript:copy_to_clipboard('address')" style="font-size: 12px">복사</a><br/>
                &nbsp;웨딩헤너스 7층 씨엘로홀<br/>
                <span style="font-size: 12px">1호선﹒경의중앙선 회기역 2번 출구 도보 2분<br/></span></p>
        </div>
        <a href="#five" class="goto-next scrolly">Next</a>
    </div>
</section>

<section id="five" class="main special">
    <div class="container" id="gallery">
        <div class="content">
            <header class="major">
                <h2>Gallery</h2>
            </header>

            <div class="box alt">
                <div class="row gtr-uniform gtr-50" id="galleryDiv">
                    <div class="col-12"><span class="image fit"><img src="mainSets/images/DSC01174.jpg" alt=""/></span>
                    </div>
                    <div class="col-6"><span class="image fit"><img src="mainSets/images/pic04.jpg" alt=""/></span>
                    </div>
                    <div class="col-6"><span class="image fit"><img src="mainSets/images/pic04.jpg" alt=""/></span>
                    </div>
                    <div class="col-4"><span class="image fit"><img src="mainSets/images/pic04.jpg" alt=""/></span>
                    </div>
                    <div class="col-4"><span class="image fit"><img src="mainSets/images/pic04.jpg" alt=""/></span>
                    </div>
                    <div class="col-4"><span class="image fit"><img src="mainSets/images/pic04.jpg" alt=""/></span>
                    </div>
                    <div class="col-4"><span class="image fit"><img src="mainSets/images/pic04.jpg" alt=""/></span>
                    </div>
                    <div class="col-4"><span class="image fit"><img src="mainSets/images/pic04.jpg" alt=""/></span>
                    </div>
                    <div class="col-4"><span class="image fit"><img src="mainSets/images/pic04.jpg" alt=""/></span>
                    </div>
                </div>
            </div>
            <a href="photo.html">더보기</a>
            <a href="#footer" class="goto-next scrolly">Next</a>
        </div>
    </div>
</section>

<section id="footer">
    <div class="container" id="congrat">
        <header class="major">
            <h2>방명록</h2>
        </header>
        <h5 style="color: gray">신랑﹒신부에게 축하의 한마디를 적어주세요!</h5>
        <form action="javascript:write();">
            <div class="row gtr-uniform">
                <div class="col-12"><input type="text" name="name" id="name" placeholder="Name"/></div>
                <div class="col-12"><textarea name="message" id="message" placeholder="Message" rows="4"></textarea>
                </div>
                <div class="col-12">
                    <ul class="actions special">
                        <li><input id="sendMessage" type="submit" value="축하하기" class="primary"/></li>
                    </ul>
                </div>
            </div>
        </form>
        <hr class="custom"/>
        <div id="guest-book" style="margin-top : 2em;">
        </div>

        <div id="move-comment" class="col-12">
            <ul class="actions special" style="margin-bottom: 0 !important;">
                <li style="padding :0 !important;"><input id="preComments" class="button fit small" type="submit"
                                                          value="이전" onclick="javascript:previous()"
                                                          style="display: none; margin-bottom: 0;"/></li>
                <li style="padding :0 !important;"><input id="nextComments" class="button primary fit small"
                                                          type="submit" value="다음" onclick="javascript:next()"
                                                          style="display: none; margin-bottom: 0;"/></li>
            </ul>
        </div>
    </div>
</section>

<!-- Scripts -->
<script src="mainSets/assets/js/jquery.min.js"></script>
<script src="mainSets/assets/js/jquery.scrollex.min.js"></script>
<script src="mainSets/assets/js/jquery.scrolly.min.js"></script>
<script src="mainSets/assets/js/browser.min.js"></script>
<script src="mainSets/assets/js/breakpoints.min.js"></script>
<script src="mainSets/assets/js/util.js"></script>
<script src="mainSets/assets/js/main.js"></script>
<script src="mainSets/assets/js/toastr.min.js"></script>
<link href="mainSets/assets/css/toastr.min.css" rel="stylesheet">

<script type="text/javascript">

    var page = 1;
    var size = 5;
    var comments;

    readComments();

    toastr.options = {
        preventDuplicates: true,
        showMethod: 'slideDown',
        timeOut: 2000,
        positionClass: 'toast-bottom-center'
    };

    function next() {
        page += 1;
        readComments();

    }

    function previous() {
        page -= 1;
        readComments();
    }

    function makeMoreBtn() {
        var ps = document.getElementsByClassName('comments');

        for (let index = 0; index < ps.length; index++) {
            var com = ps[index];
            if (com.scrollHeight > com.clientHeight) {
                document.getElementById('a-' + com.id).href = 'javascript:swapMore(\'' + com.id + '\')';
                document.getElementById('a-' + com.id).innerText = '더보기';
            }
        }
    }

    function swapMore(id) {
        var txt = document.getElementById(id);
        var aTag = document.getElementById('a-' + id);

        if (!txt.classList.contains('noneOverflow')) {
            txt.classList.add('noneOverflow');
            aTag.innerText = '감추기';
        } else {
            txt.classList.remove('noneOverflow');
            aTag.innerText = '더보기';
        }
    }

    function copy_to_clipboard(id) {
        var temp = document.createElement('textarea');
        var copyText = document.getElementById(id);
        var val = copyText.getAttribute("cp");

        document.execCommand("Copy");

        document.body.appendChild(temp);

        temp.value = val;
        temp.select();

        document.execCommand('copy');
        document.body.removeChild(temp);

        toastr.info('클립보드에 복사되었습니다.');

    }

    function readComments() {

        if (comments === undefined) {

            $.ajax({
                url: "https://us-central1-comment-c8188.cloudfunctions.net/comments",
                type: "get",
                dataType: "json",
                success: function (response) {

                    comments = response;
                    refresh();

                },
                error: function (e) {
                    console.log('error!');
                    console.log(e);
                    document.getElementById("guest-book").style.display = "none";
                },
                complete() {
                    makeMoreBtn();
                }
            });
        } else {
            refresh();
        }

    }

    function write() {

        if (document.getElementById("message").value === '') {
            toastr.error('Message를 입력해주세요.');
            return false;
        }

        document.getElementById("sendMessage").classList.remove('primary');
        document.getElementById("sendMessage").setAttribute("disabled", "disabled");
        document.getElementById("sendMessage").value = "작성중...";

        var name = document.getElementById("name").value;
        var message = document.getElementById("message").value;

        var requestData = new Object();

        requestData.name = name;
        requestData.message = message;

        $.ajax({
            url: "https://us-central1-comment-c8188.cloudfunctions.net/comment",
            type: "post",
            dataType: "json",
            contentType: "application/json",
            data: JSON.stringify(requestData),
            success: function () {
                toastr.info('축하메시지가 발송되었습니다.<br/>감사합니다.');
                document.getElementById("name").value = '';
                document.getElementById("message").value = '';
                document.getElementById("demo-category").selectedIndex = 0;
            },
            complete: function () {
                document.getElementById("sendMessage").classList.add('primary');
                document.getElementById("sendMessage").removeAttribute("disabled");
                document.getElementById("sendMessage").value = "축하하기";
                comments = undefined;
                readComments();
            },
            error: function (e) {
                console.log('error!');
                console.log(e);
                toastr.error('죄송합니다.<br/>다시 시도해주세요.');
            }
        });
    }

    function refresh() {

        var guestBook = document.getElementById('guest-book');

        if (comments.length > size * page) {
            document.getElementById("nextComments").style.display = "block";
        }

        if (page > 1) {
            document.getElementById("preComments").style.display = "block";
        }

        if (document.getElementById("nextComments").style.display === 'none' && document.getElementById("preComments").style.display === 'none') {
            document.getElementById("move-comment").style.display = "none";
        }

        comments.slice((page - 1) * size, page * size - 1).forEach((com, index, res) => {

            guestBook.innerHTML = '';

            var fullDate = new Date(parseInt(com._id.toString().substring(0, 8), 16) * 1000);

            var div = document.createElement('div');
            var p = document.createElement('p');
            var span = document.createElement('span');
            var block = document.createElement('blockquote');
            var a = document.createElement('a');

            a.id = 'a-' + 'com' + index;
            a.className = 'moreBtn';

            span.className = 'wtdate';
            span.innerText = forPrint(fullDate);

            block.innerText = com.message;
            block.className = 'comments';
            block.id = 'com' + index;
            p.innerText = com.name;

            div.id = 'books' + index;
            div.className = 'book';

            p.appendChild(span);
            div.appendChild(p);
            div.appendChild(block)
            div.appendChild(a);

            guestBook.appendChild(div);
        })
    }

    function info_photo() {
        alert('감사의 의미로 포토부스를 설치하였습니다. \n4컷 사진을 찍어 결혼식의 추억을 개인적으로 간직하시고, 색다르고 기억에 남는 결혼식이 되길 바라겠습니다.');
    }

    function more() {

        var bank = document.getElementById("bank");

        var classes = bank.classList;

        if (classes.contains('hidden') || classes.contains('disappear')) {
            bank.classList.remove('hidden');
            bank.className = 'row appear';
            document.getElementById("btnMore").style.display = 'none';
            document.getElementById("btnHide").style.display = 'block';
        } else {
            bank.classList.remove('appear');
            bank.className = 'row disappear';

            setTimeout(() => {
                document.getElementById("btnMore").style.display = 'block';
                document.getElementById("btnHide").style.display = 'none';
                bank.className = 'row disappear hidden';
            }, 500);
        }
    }

    function forPrint(date) {
        function pad(n) {
            return n < 10 ? "0" + n : n
        }

        return date.getFullYear() + "-" + pad(date.getMonth() + 1) + "-" + pad(date.getDate()) + " " + pad(date.getHours()) + ":" + pad(date.getMinutes());
    }


</script>

</body>
</html>